<!DOCTYPE html>
    <html lang="en">
        <head>
            
            <meta charset="UTF-8">
            
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <link rel="stylesheet" href="styleFormulario.css">
            
            <title>Formulario de Contacto</title>

        </head>
        
        <body>

            <div class="encavesado">
            <h1>La Formula 1</h1>
            <ul>
                <li><a href="/index.html">Inicio</a></li>
                <li><a href="/eje1/Historia/Historia.html">Historia</a></li>
                <li><a href="/eje1/pilotos/Pilotos.html" >Pilotos Historicos</a></li>
                <li><a href="/eje1/momentos/Momentos.html">Mejores Momentos</a></li>
                <li><a href="/eje1/pilotos destacados2025/pilotosDestacados.html" >Pilotos destacados 2025</a></li>
            </ul>
                <img src="../Principal/png-clipart-2018-fia-formula-one-world-championship-abu-dhabi-grand-prix-logo-2017-formula-one-world-cha.png" alt="">
            </div>
            
            <form id="formContacto">

                <h2>Formulario de Contacto</h2>

                <label for="nombre">Nombre: </label><br>
                
                <input type="text" id="nombre" maxlength="30" required><br>

                <div id="errorNombre" class="error"></div>

                <label for="apellido">Apellido: </label><br>

                <input type="text" id="apellido" maxlength="30" required><br>

                <div id="errorApellido" class="error"></div>

                <label for="email">Correo Electronico: </label><br>

                <input type="text" id="email" required><br>

                <div id="errorMail" class="error"></div>

                <label for="telefono">Teléfono: </label><br>

                <input type="text" id="telefono"><br>

                <div id="errorTelefono" class="error"></div><br>

                <label for="pregunta">Ingrese alguna consulta: </label>

                <textarea type="text" id="pregunta" placeholder="Opcional" rows="5" cols="30"></textarea>
                
                <div class = "botones">

                    <button type="submit" onclick="limpiarCampos()">Enviar</button>

                    <button type="button" onclick="limpiarCampos ()"> Limpiar</button>

                </div>

            </form>

            <div id="mensajeExito" class="exito" style="display: none;">
                
                ¡Formulario enviado correctamente!
                
                <div id="resultado" ></div>
            </div>


            <script>

                const form = document.getElementById("formContacto");

                function limpiarCampos(){

                    document.getElementById("nombre").value = "";
                    document.getElementById("apellido").value = "";
                    document.getElementById("email").value = "";
                    document.getElementById("telefono").value = "";
                    document.getElementById("resultado").value= "";
                }

                form.addEventListener("submit", function(e){

                    e.preventDefault();
                    // Evita el envio normal del formulario

                    //Obtener valores

                    const nombre = document.getElementById("nombre").value.trim();
                    
                    const apellido = document.getElementById("apellido").value.trim();

                    const email = document.getElementById("email").value.trim();

                    const telefono = document.getElementById ("telefono").value.trim();

                    const resultado = document.getElementById("resultado");

                    const mensaje = document.getElementById("mensajeExito");

                    //Divs de error

                    const errorN = document.getElementById("errorNombre");

                    const errorA = document.getElementById("errorApellido");

                    const errorM = document.getElementById("errorMail");

                    const errorT = document.getElementById("errorTelefono");

                    //Expresiones regulares 

                    const regexEmail = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-z]{2,}$/;
                    const regexTelefono = /^[0-9]{8,15}$/;

                    let valido = true;

                    //Validar Nombre

                    if (nombre === ""){

                        errorN.textContent = "El nombre es obligatorio.";
                        valido = false;
                    
                    } else if(nombre.length > 30){

                        errorN.textContent = "El nombre no puede superar los 30 caracteres.";
                        valido = false;
                    }

                    //Validar Apellido

                    if (apellido === ""){

                        errorA.textContent = "El apellido es obligatorio.";
                        valido = false;

                    } else if(apellido.length > 30){

                        errorA.textContent = "El apellido no puede superar los 30 caracteres"
                        valido = false;
                    }

                    //Validar email

                    if (email === ""){

                        errorM.textContent= "El email es obligatorio.";
                        valido = false;

                    } else if (!regexEmail.test(email)){

                        errorM.textContent = "El formato del email no es valido."
                        valido = false;
                    }

                    // Validar Telefono

                    if (telefono === ""){

                        errorT.textContent = "El telefono es obligatorio.";
                        valido = false;

                    } else if (!regexTelefono.test(telefono)){

                        errorT.textContent = "El formato del telefono es invalido.";
                        valido = false
                    }

                    //Mostrar Resultados

                    if (valido){

                        mensaje.style.display = "block";
                        setTimeout(() => {
                            mensaje.style.display = "none";
                        }, 3000);

                        const datos = document.createElement("div");
                        datos.innerHTML = `

                            <p><strong>Nombre: </strong> ${nombre}</p>
                            <p><strong>Apellido: </strong> ${apellido}</p>
                            <p><strong>Email: </strong> ${email}</p>
                            <p><strong>Telefono: </strong> ${telefono}</p>
                        `;

                        resultado.appendChild(datos);

                        limpiarCampos();    
                        
                        form.reset;
                }
                })

                
            </script>

            <div class="pieDePag">

                <div class="pieDePag-izq">
                    <h1>Todos los Derechos Reservados</h1>
                    <p>&copy; 2025 Fabricio Daniel Silva y Lucio Daniel Ponce Salinas</p>
                    <p>Este sitio y su contenido estan protegidos </p>

                </div>
        
                <div class="pieDePag-der">

                    <h3>Formulario de Contacto</h3>
                    <a href="../Formulario/formularios.html" onclick="return false;"><img src="../Principal/sticker-png-person-icon-avatar-icon-design-user-profile-face-silhouette-head-line-art-removebg-preview.png" alt="Icono de Contacto" width="80px"></a>
                </div>

            </div>
        </body>
